# ğŸ“š ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œì˜ SQL vs NoSQL

## ğŸ“– SQL vs NoSQL â€“ ê¸°ë³¸ ê°œë… ë¹„êµ

### ë°ì´í„° ëª¨ë¸ ë° ìŠ¤í‚¤ë§ˆ
- **SQL**
  - í…Œì´ë¸” êµ¬ì¡°ì˜ ì •í˜•í™”ëœ ìŠ¤í‚¤ë§ˆ ì‚¬ìš©
  - ê° í–‰: **ë ˆì½”ë“œ**, ê° ì—´: **ì†ì„±**ìœ¼ë¡œ êµ¬ì„±
- **NoSQL**
  - ë¬¸ì„œ, í‚¤-ê°’, ì»¬ëŸ¼ íŒ¨ë°€ë¦¬, ê·¸ë˜í”„ ë“± ë‹¤ì–‘í•œ ëª¨ë¸ ì§€ì›
  - ìœ ì—°í•œ êµ¬ì¡°ë¡œ ë¹„ì •í˜• ë°ì´í„° ì €ì¥ ê°€ëŠ¥

### ê´€ê³„ì™€ ì¼ê´€ì„±
- **SQL**
  - í…Œì´ë¸” ê°„ ëª…í™•í•œ ê´€ê³„, ë³µì¡í•œ ì§ˆì˜ ì§€ì›
  - **ACID** íŠ¹ì„±ìœ¼ë¡œ ê°•ë ¥í•œ ì¼ê´€ì„± ë³´ì¥
- **NoSQL**
  - ê´€ê³„ ë¯¸ì •ì˜, ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µì—ì„œ ì¡°í•©
  - **CAP ì´ë¡ ** ë˜ëŠ” **BASE ì² í•™**, ê²°ê³¼ì  ì¼ê´€ì„± ì¶”êµ¬

### í™•ì¥ì„±
- **SQL**
  - **ìˆ˜ì§ í™•ì¥** ì¤‘ì‹¬, ìˆ˜í‰ í™•ì¥ ì œí•œì 
- **NoSQL**
  - **ìˆ˜í‰ í™•ì¥** ìš©ì´, ìƒ¤ë”© ë° ë³µì œ ê¸°ëŠ¥ ë‚´ì¥

## ğŸ“– SQL vs. NoSQL ì£¼ìš” íŠ¹ì§• ë¹„êµ

| í•­ëª©         | SQL                                      | NoSQL                                   |
|--------------|-------------------------------------------|-----------------------------------------|
| ë°ì´í„° ëª¨ë¸   | ê´€ê³„í˜• (í…Œì´ë¸”, í–‰/ì—´)                   | ë¹„ê´€ê³„í˜• (ë¬¸ì„œ, í‚¤-ê°’, ê·¸ë˜í”„ ë“±)       |
| ì§ˆì˜ ì–¸ì–´     | SQL í‘œì¤€                                 | ê³ ìœ  API ë˜ëŠ” ì§ˆì˜ ë©”ì»¤ë‹ˆì¦˜            |
| ì¼ê´€ì„± ëª¨ë¸   | ACID íŠ¸ëœì­ì…˜                            | CAP/BASE, ê²°ê³¼ì  ì¼ê´€ì„±                 |
| í™•ì¥ì„± ë°©ì‹   | ìˆ˜ì§ í™•ì¥                                 | ìˆ˜í‰ í™•ì¥                               |
| ì„±ëŠ¥ íŠ¹ì§•     | ë³µì¡í•œ JOIN ë° íŠ¸ëœì­ì…˜ ì§€ì›             | ë‹¨ìˆœ ì¡°íšŒ/ì“°ê¸° ê³ ì† ì²˜ë¦¬               |
| ì˜ˆì‹œ ì‹œìŠ¤í…œ   | MySQL, PostgreSQL, Oracle                | MongoDB, Cassandra, Redis, DynamoDB    |

## ğŸ“– ì„±ëŠ¥ ë° í™•ì¥ì„± ì¸¡ë©´ ë¹„êµ

### ì½ê¸°/ì“°ê¸° ì„±ëŠ¥
- **SQL**: íŠ¸ëœì­ì…˜ ë¬´ê²°ì„±, ì¸ë±ì‹± ìµœì í™”, ì½ê¸° ë¶€í•˜ ë¶„ì‚° ê°€ëŠ¥
- **NoSQL**: ë‹¨ìˆœ ì½ê¸°/ì“°ê¸° ìµœì , ë³‘ë ¬ ì‚½ì… ë° ê³ ì† ì²˜ë¦¬

### ìˆ˜í‰ í™•ì¥ì„±ê³¼ ìƒ¤ë”©
- **SQL**: ìˆ˜í‰ í™•ì¥ ì–´ë ¤ì›€, ìƒ¤ë”©ì€ ë³µì¡
- **NoSQL**: ìƒ¤ë”© ë‚´ì¥, ë…¸ë“œ ì¶”ê°€ë¡œ ì„±ëŠ¥ ìœ ì§€

### ì§€ì—° ì‹œê°„
- **SQL**: ë‚®ì€ ì§€ì—° ê°€ëŠ¥í•˜ë‚˜ ë³‘ëª© ë°œìƒ ìš°ë ¤
- **NoSQL**: ì§€ì—° ìµœì†Œí™”, ì§€ì—­ ê¸°ë°˜ ë¶„ì‚° ì§€ì›

## ğŸ“– ëŒ€ê·œëª¨ ì‚¬ìš©ì ì‹œìŠ¤í…œê³¼ ì‹¤ì‹œê°„ ì²˜ë¦¬ì— ì í•©í•œ DB ë¹„êµ

### NoSQL ë°ì´í„°ë² ì´ìŠ¤
- ìˆ˜í‰ í™•ì¥ ìš©ì´
- ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ, ìŠ¤íŠ¸ë¦¬ë° ë¶„ì„ ë“±ì— ê°•ì 
- MongoDB, Cassandra ë“±

### SQL ë°ì´í„°ë² ì´ìŠ¤
- ë°ì´í„° ë¬´ê²°ì„±ê³¼ ë³µì¡í•œ ì§ˆì˜ì— ê°•ì 
- íšŒì›ì •ë³´, ê²°ì œ ë‚´ì—­ ë“± í•µì‹¬ ë°ì´í„°ì— ì í•©

### í´ë¦¬ê¸€ë¡¯ í¼ì‹œìŠ¤í„´ìŠ¤
- **SQL**: íŠ¸ëœì­ì…˜, ì •í˜• ë°ì´í„° ì²˜ë¦¬
- **NoSQL**: í”¼ë“œ, ìºì‹±, ë¡œê·¸ ë“± ëŒ€ê·œëª¨ ì²˜ë¦¬
- ElasticSearch, Redis, ë©”ì‹œì§€ í ë“±ê³¼ ì¡°í•© ê°€ëŠ¥

## ğŸ“– ì£¼ìš” í™œìš© ì‚¬ë¡€ ìš”ì•½

| DB ìœ í˜•     | í™œìš© ë¶„ì•¼ ë° ì˜ˆì‹œ                                               |
|-------------|------------------------------------------------------------------|
| SQL         | ê¸ˆìœµ, ê²°ì œ, ERP, ì •í˜• ë°ì´í„°                                    |
| NoSQL       | ì†Œì…œ, ë©”ì‹œì§•, IoT, ê²Œì„, CDN, ì‹¤ì‹œê°„ ë¶„ì„ ë“± ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬   |

## ğŸ“– ê²°ë¡ 
- ëŒ€ê·œëª¨/ì‹¤ì‹œê°„ ì²˜ë¦¬ â†’ **NoSQL**
- ì •í•©ì„±/íŠ¸ëœì­ì…˜ ì¤‘ì‹¬ â†’ **SQL**
- ì‹¤ë¬´ì—ì„œëŠ” í˜¼í•© ì „ëµ(í´ë¦¬ê¸€ë¡¯ í¼ì‹œìŠ¤í„´ìŠ¤) í™œìš©ì´ ì´ìƒì 

---

## ğŸ“– FastAPIì—ì„œì˜ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë°©ë²•

### SQL ë°ì´í„°ë² ì´ìŠ¤ (PostgreSQL ë“±)

- ì£¼ìš” ORM: `SQLAlchemy`, `Tortoise ORM`

```python
from sqlalchemy import create_engine, Column, Integer, String
from sqlalchemy.orm import sessionmaker, declarative_base
from fastapi import FastAPI, Depends

DATABASE_URL = "postgresql://username:password@localhost:5432/mydb"
engine = create_engine(DATABASE_URL)
SessionLocal = sessionmaker(bind=engine, autoflush=False, autocommit=False)
Base = declarative_base()

class User(Base):
    __tablename__ = "users"
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String, nullable=False)
    email = Column(String, unique=True)

app = FastAPI()

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

@app.get("/users/{user_id}")
def read_user(user_id: int, db=Depends(get_db)):
    user = db.query(User).filter(User.id == user_id).first()
    return user
```

### NoSQL ë°ì´í„°ë² ì´ìŠ¤ (MongoDB ë“±)
- ì£¼ìš” í´ë¼ì´ì–¸íŠ¸: `Motor`

``` python
from motor.motor_asyncio import AsyncIOMotorClient
from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()
client = AsyncIOMotorClient("mongodb://localhost:27017")
users_col = client["mydatabase"]["users"]

class UserModel(BaseModel):
    name: str
    email: str

@app.post("/users")
async def create_user(user: UserModel):
    result = await users_col.insert_one(user.dict())
    return {"id": str(result.inserted_id)}

@app.get("/users/{user_id}")
async def get_user(user_id: str):
    user = await users_col.find_one({"_id": user_id})
    return user
```